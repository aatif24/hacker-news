{"version":3,"sources":["components/FeedCard.jsx"],"names":["API_BASE_URL","App","id","useState","story","setStory","commentsLoading","setCommentsLoading","comments","setComments","useEffect","a","axios","get","res","getStory","className","title","dangerouslySetInnerHTML","__html","text","url","target","href","by","moment","unix","time","format","kids","length","type","data-toggle","data-target","aria-expanded","aria-controls","onClick","e","sort","b","i","c","then","r","prev","data","catch","error","getComments","map","v","key","fromNow"],"mappings":"+NAOMA,EAAe,yCA+HNC,UA7HH,SAAC,GAAY,IAAVC,EAAS,EAATA,GAAS,EACMC,mBAAS,IADf,mBACbC,EADa,KACNC,EADM,OAE0BF,oBAAS,GAFnC,mBAEbG,EAFa,KAEIC,EAFJ,OAGYJ,mBAAS,IAHrB,mBAGbK,EAHa,KAGHC,EAHG,KAKpBC,qBAAU,YACM,uCAAG,4BAAAC,EAAA,+EAESC,IAAMC,IAAIb,EAAY,eAAWE,EAAX,UAF/B,OAEHY,EAFG,OAGPT,EAASS,EAAG,MAHL,uGAAH,qDAMZC,KACD,CAACb,IA0BJ,OACI,oCACI,yBAAKc,UAAU,gBACX,yBAAKA,UAAU,wBACX,yBAAKA,UAAU,aACX,yBAAKA,UAAU,OACX,yBAAKA,UAAU,uBACX,uBAAGA,UAAU,uBAAuBZ,EAAMa,OAC1C,uBAAGC,wBAAyB,CAAEC,OAAQf,EAAMgB,SAEhD,yBAAKJ,UAAU,qBACVZ,EAAMiB,KACH,uBAAGL,UAAU,cACT,uBAAGM,OAAO,SAASC,KAAMnB,EAAMiB,KAA/B,gBAOhB,yBAAKL,UAAU,OACX,yBAAKA,UAAU,UACX,uBAAGA,UAAU,iDACT,uBAAGA,UAAU,gBADjB,IACqCZ,EAAMoB,IAE3C,uBAAGR,UAAU,iCACRS,IAAOC,KAAKtB,EAAMuB,MAAMC,OAAO,QAEnCxB,EAAMyB,MAAQzB,EAAMyB,KAAKC,OACtB,yBAAKd,UAAU,cACX,4BACIA,UAAU,uBACVe,KAAK,SACLC,cAAY,WACZC,cAAA,mBAAyB/B,GACzBgC,gBAAc,OACdC,gBAAc,cACdC,QAAS,SAACC,IA7DhC,WAEd9B,GAAmB,GACnBE,EAAY,IACZ,IACI,GAAIL,EAAK,KAAU,CACfA,EAAK,KAAWA,EAAK,KAASkC,MAAK,SAAU3B,EAAG4B,GAC5C,OAAOA,EAAI5B,KAGf,IAAK,IAAI6B,EAAI,EAAGA,EAAIpC,EAAK,KAAS0B,OAAQU,IAAK,CAC3C,IAAIC,EAAIrC,EAAK,KAASoC,GACtB5B,IACKC,IAAIb,EAAY,eAAWyC,EAAX,UAChBC,MAAK,SAACC,GACHlC,GAAY,SAACmC,GAAD,4BAAcA,GAAd,CAAoBD,EAAEE,aAErCC,QAETvC,GAAmB,IAEzB,MAAOwC,KAyC+BC,KAGJ,uBAAGhC,UAAU,4BACZZ,EAAMyB,MAAQzB,EAAMyB,KAAKC,SAGlC,OAGZ,yBAAKd,UAAU,qCAAqCd,GAAE,kBAAaA,IAC9DI,EAAkB,kBAAC,IAAD,MAAa,KAC/BE,EAASsB,OACN,oCACI,6BACCtB,EAASyC,KAAI,SAACC,EAAGV,GACd,OACI,yBAAKxB,UAAU,WAAWmC,IAAKX,GAC3B,yBAAKxB,UAAU,UACX,2BAAOA,UAAU,8CAAjB,MACQkC,GAAKA,EAAE1B,IAAM0B,EAAE1B,GAClB,MACAC,IACIC,KAAKwB,GAAKA,EAAEvB,MAAQuB,EAAEvB,MACtByB,WAET,uBACIpC,UAAU,OACVE,wBAAyB,CACrBC,OAAQ+B,GAAKA,EAAE9B,MAAQ8B,EAAE9B,cASrD","file":"static/js/4.099d8e25.chunk.js","sourcesContent":["/* eslint-disable react/jsx-no-target-blank */\n/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useEffect, useState } from \"react\";\nimport moment from \"moment\";\nimport axios from \"axios\";\nimport Loader from \"./Loader\";\n\nconst API_BASE_URL = \"https://hacker-news.firebaseio.com/v0/\";\n\nconst App = ({ id }) => {\n    const [story, setStory] = useState({});\n    const [commentsLoading, setCommentsLoading] = useState(true);\n    const [comments, setComments] = useState([]);\n\n    useEffect(() => {\n        let getStory = async () => {\n            try {\n                let res = await axios.get(API_BASE_URL + `item/${id}.json`);\n                setStory(res[\"data\"]);\n            } catch (error) {}\n        };\n        getStory();\n    }, [id]);\n\n    let getComments = () => {\n        // let comments = [];\n        setCommentsLoading(true);\n        setComments([]);\n        try {\n            if (story[\"kids\"]) {\n                story[\"kids\"] = story[\"kids\"].sort(function (a, b) {\n                    return b - a;\n                });\n\n                for (let i = 0; i < story[\"kids\"].length; i++) {\n                    let c = story[\"kids\"][i];\n                    axios\n                        .get(API_BASE_URL + `item/${c}.json`)\n                        .then((r) => {\n                            setComments((prev) => [...prev, r.data]);\n                        })\n                        .catch();\n                }\n                setCommentsLoading(false);\n            }\n        } catch (error) {}\n    };\n\n    return (\n        <>\n            <div className=\"col-12 mb-3 \">\n                <div className=\"card shadow border-0\">\n                    <div className=\"card-body\">\n                        <div className=\"row\">\n                            <div className=\"col-md-10 col-lg-10\">\n                                <p className=\"h5 font-weight-bold\">{story.title}</p>\n                                <p dangerouslySetInnerHTML={{ __html: story.text }}></p>\n                            </div>\n                            <div className=\"col-md-2 col-lg-2\">\n                                {story.url && (\n                                    <p className=\"text-right\">\n                                        <a target=\"_blank\" href={story.url}>\n                                            Know more\n                                        </a>\n                                    </p>\n                                )}\n                            </div>\n                        </div>\n                        <div className=\"row\">\n                            <div className=\"col-12\">\n                                <p className=\"text-right text-muted text-capitalize p-0 m-0\">\n                                    <i className=\"fas fa-user\"></i> {story.by}\n                                </p>\n                                <p className=\"text-right text-muted p-0 m-0\">\n                                    {moment.unix(story.time).format(\"LLL\")}\n                                </p>\n                                {story.kids && story.kids.length ? (\n                                    <div className=\"text-right\">\n                                        <button\n                                            className=\"btn btn-link p-0 m-0\"\n                                            type=\"button\"\n                                            data-toggle=\"collapse\"\n                                            data-target={`#collapse${id}`}\n                                            aria-expanded=\"true\"\n                                            aria-controls=\"collapseOne\"\n                                            onClick={(e) => {\n                                                getComments();\n                                            }}\n                                        >\n                                            <i className=\"fas fa-comment-alt mr-1\"></i>\n                                            {story.kids && story.kids.length}\n                                        </button>\n                                    </div>\n                                ) : null}\n                            </div>\n                        </div>\n                        <div className=\" row mt-2 collapse comment-section\" id={`collapse${id}`}>\n                            {commentsLoading ? <Loader /> : null}\n                            {comments.length ? (\n                                <>\n                                    <hr />\n                                    {comments.map((v, i) => {\n                                        return (\n                                            <div className=\"row my-2\" key={i}>\n                                                <div className=\"col-12\">\n                                                    <small className=\" text-capitalize border-bottom font-italic\">\n                                                        by {v && v.by && v.by}\n                                                        {\" - \"}\n                                                        {moment\n                                                            .unix(v && v.time && v.time)\n                                                            .fromNow()}\n                                                    </small>\n                                                    <p\n                                                        className=\"pl-4\"\n                                                        dangerouslySetInnerHTML={{\n                                                            __html: v && v.text && v.text,\n                                                        }}\n                                                    ></p>\n                                                </div>\n                                            </div>\n                                        );\n                                    })}\n                                </>\n                            ) : (\n                                <p>No comments</p>\n                            )}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </>\n    );\n};\n\nexport default App;\n"],"sourceRoot":""}